---
title: How to use Hunk
author: denis.volk@gmail.com
creation_date: 2024-07-12
uses_mermaid: true
---

Hunk is a simple static site generator written in Python. You can use it to process multiple sites with a single invocation. A site is in `./sites/<site_name>`. Sites are processed and the deployable result is saved in `./deploy/<site_name>`.

A site directory should be organised as displayed in this example:

```bash
hunk/sites
    oxfordfun.com
        0_hello_world.txt
        1_how_to_use_hunk.txt
        emacs.css
        index.jinja2
        post.jinja2
        style.css
        w3.css
```

A post is written in Markdown format, saved to `.txt` and  processed using the `post.jinja2` template:

```mermaid
flowchart LR

md0[0_hello_world.txt]
md1[1_how_to_use_hunk.txt]

html0[0_hello_world.html]
html1[1_how_to_use_hunk.html]

md0 --> post.jinja2 --> html0
md1 --> post.jinja2 --> html1
```

The post `.txt` file should include a `title` metadata, and you can include others and use them in the `post.jinja2` template.

For example:

```
---
title: My post
---

Content of my post in markdown format
```

From a collection of posts, Hunk will generate an `index.html` based on the `index.jinja2` template.

```mermaid
flowchart LR

md0[0_hello_world.txt]
md1[1_how_to_use_hunk.txt]

index[index.html]

md0 --> index.jinja2 --> index
md1 --> index.jinja2 --> index
```

The posts are sorted based on the number in the post filenames.

To simplify deployment, one can use a script such as the following:

```bash
set -e
set -x

echo "generating new deployment..."
python3 main.py

echo "deleting existing deployment..."
sudo rm -rf /var/www/html/oxfordfun.com || true

echo "copying new deployment..."
sudo cp -r deploy/oxfordfun.com/ /var/www/html
```
